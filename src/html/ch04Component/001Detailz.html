<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ComponentsDetails</title>
    <script src="https://vuejs.org/js/vue.js"></script>
    <!-- 
      1、use of Tag 'is'
      2."component"-data should be a fun() with 'return' sentences
      3.use of Tag 'ref'
     -->
  </head>

  <body>
    <div id="gpp">
        <!-- <table>
            <tbody>
                <tr><td>1</td></tr>
                <tr><td>2</td></tr>
                <tr><td>3</td></tr> 
                
                <tr is="row"></tr>
                <tr is="row"></tr>
                <tr is="row"></tr>
            </tbody>
        </table> -->
        <!-- <div
            ref='hola' 
            @click="handleClick">
            Hola Mundo
        </div> -->
        <!-- //Action'change'Listener -->
        <counter ref="one" @change="handleChange"></counter>
        <counter ref="two" @change="handleChange"></counter>
        <div>{{total}}</div>
    </div>

    <script>
        // Vue.component('row',{
        //   data:function(){
        //       return {
        //         content:"This is a row"
        //       }
        //   },
        //     // template:'<tr><td>this is a row</td><tr>'
        //     template:'<tr><td>{{content}}</td><tr>'
        // })

        Vue.component('counter',{
          template:'<div @click="handleClick">{{number}}</div>',
          data:function(){
            return{
              number:0
            }
          },
          methods: {
            handleClick:function(){
              this.number ++
              this.$emit('change')//Action'change'Listener
            }
          }
        })

        var vm = new Vue({
            el:'#gpp',
            // methods :{
            //   handleClick:function(){
            //     // alert('21')
            //     alert(this.$refs.hola.innerHTML)
            //   }
            // }
            data:{
              total:0
            },
            methods:{
              handleChange:function(){
                // alert('change')
                this.total = this.$refs.one.number +this.$refs.two.number
                // console.log(this.$refs.one.number)
                // console.log(this.$refs.two.number)
              }
            }
        })
    </script>
  </body>
</html>